function navborder(a){a="number"==typeof a?a:400;var b=$(".think_navul>li"),c=$(".think_nav_border");b.hover(function(){c.stop().animate({left:$(this).offsetParent().context.offsetLeft,width:$(this).find("a").width()},a)},function(){c.stop().animate({left:0,width:0},a)})}function loadScript(a,b){var c=document.createElement("script");c.type="text/javascript",c.readyState?c.onreadystatechange=function(){("loaded"==c.readyState||"complete"==c.readyState)&&(c.onreadystatechange=null,b())}:c.onload=function(){b()},c.src=a,document.body.appendChild(c)}function addCookie(a,b,c){var d=a+"="+escape(b)+";path=/";if(0!=c&&""!=c&&null!=c){var e=new Date;e.setTime(e.getTime+24*c*3600*1e3),d=d+"; expires="+e.toGMTString()}document.cookie=d}function getCookie(a){for(var b=document.cookie,c=b.split("; "),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return unescape(e[1])}return null}function isLogin(){if(window.passport&&passport.isLogin()){var a="http://www.thinkworldshop.com.cn";window.location.href=a+"/user/index.html"}else logobj.showlogin()}function LoginLenovo(a){var b=logobj._logurl+"?ticket="+logobj.config.ticket+"&ru="+a;window.top.location.href=b}function showLoading(){0==jQuery("#loading_box").length&&jQuery("body").append("<div class='pop loading' id='loading_box'><img src='/http://m2.lefile.cn/tp/images/loading1.gif'></div>"),jQuery("#loading_box").show()}function hideLoading(){0!=jQuery("#loading_box").length&&jQuery("#loading_box").hide()}function alertBox(a,b){if(0==jQuery("#mask0").length&&jQuery("body").append("<div id='mask0'/>"),jQuery("#mask0").show(),0==jQuery(".alert_tip").length){var c='<div class="alert_tip"><i class="alert_close"></i><div class="clear"></div><div class="alert_cont"><div class="txt"></div></div></div>';jQuery("body").append(c)}var d=jQuery(".alert_tip"),e=jQuery(".alert_cont");1==b?e.removeClass("e1"):e.addClass("e1"),e.children(".txt").html(a),d.show(),e.children(".txt").css("marginTop",(60-e.children(".txt").height())/2+"px"),alertPosition();var f=arguments[2];jQuery(".alert_close").click(function(){jQuery("#mask0,.alert_tip").hide(),f&&window.location.reload()})}function alertPosition(){jQuery(".alert_tip").is(":visible")&&jQuery(".alert_tip").css({top:($(window).height()-jQuery(".alert_tip").height())/2+"px",left:(jQuery(window).width()-jQuery(".alert_tip").width())/2+"px"})}function messageBox(a,b){if(0==jQuery("#mask").length&&jQuery("body").append("<div id='mask'/>"),jQuery("#mask").show(),0==jQuery("#messageBox").length){var c='<div class="u_box order_1" id="messageBox"><div class="u_box_title"><i id="close_btn"></i><div id="box_title"></div></div><div id="box_info"></div></div>';jQuery("body").append(c)}var d=jQuery("#messageBox");$("#box_title").html(a),$("#box_info").html(b),d.show(),boxPosition(),jQuery("#close_btn").click(function(){jQuery("#mask,#messageBox").hide()})}function boxPosition(){jQuery("#messageBox").is(":visible")&&jQuery("#messageBox").css({"margin-top":-jQuery("#messageBox").height()/2+"px","margin-left":-jQuery("#messageBox").width()/2+"px"})}function iframeBox(a,b,c,d){if(0==jQuery("#mask").length&&jQuery("body").append("<div id='mask'/>"),jQuery("#mask").show(),0==jQuery("#iframeBox").length){var e='<div class="u_box order_1" id="iframeBox"><div class="u_box_title"><i id="close_btn"></i><div id="box_title"></div></div><iframe id="box_info" src="'+d+'" scrolling="no" style="display:block;margin:0px auto;" frameborder="0" height='+c+" width="+b+"></iframe></div>";jQuery("body").append(e)}var f=jQuery("#iframeBox");$("#box_title").html(a),$("#box_info").attr("src",d),$("#box_info").attr("width",b),$("#box_info").attr("height",c),f.show(),iframeboxPosition(),jQuery("#close_btn").click(function(){jQuery("#mask,#iframeBox").hide(),window.location.reload()})}function iframeClose(a){""!=a&&alert(a),$("#mask").hide(),$("#iframeBox").remove()}function iframeboxPosition(){jQuery("#iframeBox").is(":visible")&&jQuery("#iframeBox").css({"margin-top":-jQuery("#iframeBox").height()/2+"px","margin-left":-jQuery("#iframeBox").width()/2+"px"})}function scroll(){var a=$(window).scrollTop(),b=$(window).height();74>a?$("#shop_rightbar").css({height:b-(74-a)+"px",top:74-a+"px"}):$("#shop_rightbar").css({height:b+"px",top:"0px"})}var navpadding={logined:function(){var a=($(".think_user").width()+36,$(".think_nav .navpad")),b=$(".think_search input"),c=0;a.css("padding-right","70px"),b.unbind("focus").focus(function(b){0==c?(a.css("padding-right","55px"),$(this).stop(!0,!0).animate({width:"220px"}).parent(".think_search").stop(!0,!0).animate({width:"260px"}),c=1):($(this).blur(),b.stopPropagation())}),b.unbind("blur").blur(function(b){1==c?($(this).stop(!0,!0).animate({width:"160px"}).parent(".think_search").stop(!0,!0).animate({width:"200px"},function(){a.css("padding-right","70px"),c=0}),b.stopPropagation()):$(this).focus()})},unlogin:function(){var a=($(".think_user").width()+36,$(".think_nav .navpad")),b=$(".think_search input"),c=0;b.focus(function(b){0==c?(a.css("padding-right","85px"),$(this).animate({width:"220px"}).parent(".think_search").animate({width:"260px"}),c=1):($(this).blur(),b.stopPropagation())}),b.blur(function(b){if(1==c){var d=$(this),e=$(this).parent();window.setTimeout(function(){$(d).animate({width:"200px"},function(){a.css("padding-right","100px"),c=0}),$(e).animate({width:"200px"})},500),b.stopPropagation()}else $(this).focus()})}};$(function(){window.passport&&passport.isLogin()?($(".ellipsis").html(passport.cookie.loginName),$(".think_login").hide(),$(".think_register").show()):navborder(300);var a="http://cart.thinkworldshop.com.cn/getshoppingcartcount.jhtml";$.ajax({url:a,dataType:"jsonp",async:!1,type:"get",jsonp:"callbackparam",success:function(a){0==a.count?$(".think_car i").removeClass("usepng"):$(".think_car i").addClass("usepng")},error:function(a,b,c){console.error(a.status),console.error(a.readyState),console.error(b)}}),new AutoComplete({input:$(".think_search input[type=text]"),suggest:$("#suggestContainer"),tip:"ThinkPad X1",getDatas:function(){var a=this;this.oldVal=$(".think_search input[type=text]").val();var b=$(".think_search input[type=text]").val();$.ajax({url:"http://s.thinkworldshop.com.cn"+"/search/suggest?kw="+$(".think_search input[type=text]").val(),success:function(c){var d=[];if(d.push("<ul><li><a href='"+"http://s.thinkworldshop.com.cn"+"?key="+b+"'>"+b+"</a></li>"),""==c||0==c.s.length)return void(""!=b?(d.push("</ul>"),a.suggest.html(d.join("")).show()):a.suggest.html("").hide());for(var e=0;e<c.s.length;e++)d.push("<li><a href='"+"http://s.thinkworldshop.com.cn"+"?key="+c.s[e]+"'>"+c.s[e]+"</a></li>");d.push("</ul>"),a.suggest.html(d.join("")).show()}})},submit:function(){this.suggest.hide(),window.location.href="http://s.thinkworldshop.com.cn"+"?key="+encodeURIComponent($(".think_search input[type=text]").val())}}),$("body").delegate(".think_search .usepng","click",function(){window.location.href="http://s.thinkworldshop.com.cn"+"?key="+encodeURIComponent($(this).prev().val())})});var globalconfig={platid:8};$(function(){logobj.init(),jQuery(window).resize(function(){alertPosition()}).scroll(function(){})});var logobj={_logurl:"https://reg.lenovo.com.cn/auth/v1/login",config:{ticket:"ad68e8e1-b719-443e-aa0f-d5fcbcdd83ae",login:function(){"undefined"==typeof login_callback?($(".ellipsis").html(passport.cookie.loginName),$(".think_login").hide(),$(".think_register").show(),$p&&$p.sc&&$p.sc()):login_callback()},logout:function(){"undefined"==typeof logout_callback?($(".think_login").show(),$(".think_register").hide()):logout_callback()}},init:function(){passport.init(logobj.config)},showlogin:function(a){a&&"function"==typeof a?passport.login=a:passport.login=this.config.login,passport.show(),$(".regist").click(function(){passport.hide(),logobj.showregist()}),$(".forgetPwd").click(function(){passport.hide(),recover.init()})},showregist:function(){regist.init({ticket:logobj.config.ticket,success:logobj.config.login})},dologout:function(){passport.doLogout()}};$(function(){scroll(),$(".shop_pointer").hover(function(){$(this).addClass("active").find(".V_jt,.V_icon_cont").show()},function(){$(this).removeClass("active").find(".V_jt,.V_icon_cont").hide()}),$("#shop_totop").click(function(){$("html,body").animate({scrollTop:0},500)}),$(window).scroll(function(){scroll()})});